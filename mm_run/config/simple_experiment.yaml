# Example configuration demonstrating mobile manipulation with MPC
# This showcases:
# - Base trajectory planning (mobile base movement)
# - End-effector pose planning (arm manipulation)
# - Self-collision avoidance (important safety feature)
# - MPC controller with Acados

planner:
  tasks:
  # Task 1: Move mobile base to target pose (SE2: x, y, yaw)
  - frame_id: base
    name: Base Waypoint
    planner_type: WaypointPlanner
    target_pose: [3.5, 0.4, 3.14]   # x, y, yaw
    tracking_err_tol: 0.2

  # Task 2: Move end-effector to target pose (SE3: x, y, z, roll, pitch, yaw)
  - frame_id: EE
    name: EE Waypoint
    planner_type: WaypointPlanner
    target_pose: [1.5, 0.4, 1.0, 3.14, 0, 0]  # x, y, z, roll, pitch, yaw - EE pointing down
    hold_period: 1.0
    tracking_err_tol: 0.05

controller:
  # Enable self-collision avoidance (prevents robot from colliding with itself)
  self_collision_avoidance_enabled: True
  sdf_collision_avoidance_enabled: False
  static_obstacles_collision_avoidance_enabled: False

  # Acados solver configuration
  acados:
    name: "SimpleExperiment"

simulation:
  duration: 10

include:
  - package: "mm_run"
    path: "config/robot/thing.yaml"
  - package: "mm_run"
    path: "config/controller/MPC.yaml"
  - package: "mm_run"
    path: "config/sim/simulation.yaml"
  - package: "mm_run"
    path: "config/scene/empty.yaml"
  - package: "mm_run"
    path: "config/map/SDF3D.yaml"

logging:
  log_dir: "simple_experiment"
  log_level: 10 # 0 - not set, 10 - debug, 20 - info
